; PlatformIO Project Configuration File
;
; USD - Ultimate Stepper Driver
; https://github.com/[your-username]/USD
;
; Environments:
;   esp32s3 - Primary development target

[platformio]
default_envs = esp32s3
src_dir = src
include_dir = include
lib_dir = lib
test_dir = test

[env]
; Common settings for all environments
framework = arduino
monitor_speed = 115200
build_flags = 
    -D USD_VERSION="0.1.0"
    -D USD_DEBUG=1
lib_deps =
    ; Add dependencies here as needed

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
; For UART programming
upload_protocol = esptool
; For USB-CDC programming (alternative)
; upload_protocol = esp-builtin

; Extra build flags for ESP32-S3
build_flags = 
    ${env.build_flags}
    -D ARDUINO_USB_MODE=1
    -D ARDUINO_USB_CDC_ON_BOOT=1

; Future environment for STM32 (post-v1.0)
; [env:stm32f4]
; platform = ststm32
; board = nucleo_f446re
; framework = arduino
